{{- define "main" }}
{{ $moment := resources.Get "moment.min.js" }}

<meta name="referrer" content="no-referrer" charset="utf-8">

<style>
    ul ul {
        list-style-type: none;
        margin-left: -40px;
    }
    .video-wrapper {
        height: 0;
        overflow: hidden;
        padding-bottom: 56.25%;
        position: relative;
        width: 100%;
    }
    .memo-content-wrapper.memo-content {
        width: 100%;
    }
    .video-wrapper iframe {
        border: 0;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
    }
    .timeline img {
        display: block;
        max-height: 40vh;
        max-width: 100%;
        margin: 10px 0;
        border-radius: 16px;
        border: 1px solid var(--color-img-border);
    }
    .memo-container img {
        padding-top: 1rem;
        max-height: 40vh !important;
    }
    button.load-btn.button-load {
        color: rgb(150,150,150);
        border-radius: 10px;
        -webkit-transform: perspective(1px) translateZ(0);
        transform: perspective(1px) translateZ(0);
        -webkit-transition-duration: 0.3s;
        transition-duration: 0.3s;
        -webkit-transition-property: box-shadow,transform;
        transition-property: box-shadow,transform;
        padding: 10px 24px;
        background: var(--entry);
        border: 1px solid var(--border);
    }
    .memo-content-wrapper > .memo-content-text blockquote::before {
        line-height: 2rem !important;
        content: "“" !important;
        font-family: Georgia, serif !important;
        font-size: 28px !important;
        font-weight: bold !important;
        position: absolute !important;
        left: 10px !important;
        top: 5px !important;
    }

    ol {
        display: block;
        list-style-type: decimal;
        margin-block-start: 1em;
        margin-block-end: 1em;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        padding-inline-start: 24px;
    }

    .dark .aplayer{background:#212121}.dark .aplayer.aplayer-withlist .aplayer-info{border-bottom-color:#5c5c5c}.dark .aplayer.aplayer-fixed .aplayer-list{border-color:#5c5c5c}.dark .aplayer .aplayer-body{background-color:#212121}.dark .aplayer .aplayer-info{border-top-color:#212121}.dark .aplayer .aplayer-info .aplayer-music .aplayer-title{color:#fff}.dark .aplayer .aplayer-info .aplayer-music .aplayer-author{color:#fff}.dark .aplayer .aplayer-info .aplayer-controller .aplayer-time{color:#eee}.dark .aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon path{fill:#eee}.dark .aplayer .aplayer-list{background-color:#212121}.dark .aplayer .aplayer-list::-webkit-scrollbar-thumb{background-color:#999}.dark .aplayer .aplayer-list::-webkit-scrollbar-thumb:hover{background-color:#bbb}.dark .aplayer .aplayer-list li{color:#fff;border-top-color:#666}.dark .aplayer .aplayer-list li:hover{background:#4e4e4e}.dark .aplayer .aplayer-list li.aplayer-list-light{background:#6c6c6c}.dark .aplayer .aplayer-list li .aplayer-list-index{color:#ddd}.dark .aplayer .aplayer-list li .aplayer-list-author{color:#ddd}.dark .aplayer .aplayer-lrc{text-shadow:-1px -1px 0 #666}.dark .aplayer .aplayer-lrc:before{background:-moz-linear-gradient(top, #212121 0%, rgba(33,33,33,0) 100%);background:-webkit-linear-gradient(top, #212121 0%, rgba(33,33,33,0) 100%);background:linear-gradient(to bottom, #212121 0%, rgba(33,33,33,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#212121', endColorstr='#00212121',GradientType=0 )}.dark .aplayer .aplayer-lrc:after{background:-moz-linear-gradient(top, rgba(33,33,33,0) 0%, rgba(33,33,33,0.8) 100%);background:-webkit-linear-gradient(top, rgba(33,33,33,0) 0%, rgba(33,33,33,0.8) 100%);background:linear-gradient(to bottom, rgba(33,33,33,0) 0%, rgba(33,33,33,0.8) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#00212121', endColorstr='#cc212121',GradientType=0 )}.dark .aplayer .aplayer-lrc p{color:#fff}.dark .aplayer .aplayer-miniswitcher{background:#484848}.dark .aplayer .aplayer-miniswitcher .aplayer-icon path{fill:#eee}
    /* .memo-container{
        transition: .4s !important;
    }
    .memo-container:hover{
        transform: translateY(-4px) !important;
        box-shadow: 0 4px 12px #0c1f500a !important;
        transition: .4s !important;
    } */
</style>

<header class="page-header">
    <h1>{{ .Title }}</h1>
    {{- if .Description }}
    <div class="post-description">
      {{ .Description }}
    </div>
    {{- end }}
</header>
 
<!-- memos内容区域 -->
<section id="main" class="container">
    <div class="memo-nums">
        <p class="note note-info memo-nums-text">
            共有
            <span id="memonums">「条等待加载」</span>
            条memos，<a href="https://memo.wananaiko.com/u/1" target="_blank" style="color:#876fd6;font-size:1rem;">查看全部</a>
        </p>
    </div>
    <div id="bber"></div>
    <!-- 设置memos的参数 -->
    <script type="text/javascript">
        var bbMemos = {
            memos: "https://memo.wananaiko.com/",
            limit: "15",
            creatorId: "1",
            domId: "#bber"
        }
    </script>
    <!-- 设置memos部分的所有链接在新标签页打开 -->
    <script type="text/javascript">
        document.querySelector('#bber').addEventListener('click', function(e) {
            if (e.target.tagName == 'A') {
                e.preventDefault();
                window.open(e.target.href);
            }
        });
    </script>
</section>
 
<script type="text/javascript" src="/memos/assets/js/marked.min.js"></script>
<script type="text/javascript" src="https://fastly.jsdelivr.net/gh/Tokinx/Lately/lately.min.js"></script>
<script type="text/javascript" src="/memos/assets/js/bibi.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/github.css">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/lib/highlight.js"></script>
<link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
<script type="text/javascript" src="/memos/assets/js/view-image.min.js"></script>

<!-- 页面下雪效果 -->
<!-- <script src="https://app.embed.im/snow.js" defer></script> -->

<script>
    window.ViewImage && ViewImage.init('.container img');
</script> 

<!--修复页面代码高亮-->
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
    hljs.initHighlightingOnLoad();
    });
</script>

{{- end }}{{/* end main */}}